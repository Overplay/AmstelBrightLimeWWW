app.controller("waitlistController",["$scope","$timeout","$http","$log","$ionicPopup","optvModel",function($scope,$timeout,$http,$log,$ionicPopup,optvModel){$log.info("Loading waitlistController");function initialize(){optvModel.init({appName:"io.ourglass.waitinglist",initialValue:{parties:[]},dataCallback:function(data){console.log("Data Callback!",data)}});$scope.newParty={name:"",members:undefined,dateCreated:undefined}}$scope.openAdd=function(){$ionicPopup.show({templateUrl:"app/components/waitlist/waitlist.add.html",cssClass:"add-popup",title:"Create New Party",scope:$scope,buttons:[{text:"Cancel",onTap:function(){$scope.newParty={name:"",members:undefined,dateCreated:undefined}}},{text:"<b>Add</b>",type:"button-positive",onTap:function(e){if(!$scope.newParty.name||!$scope.newParty.members){e.preventDefault();$ionicPopup.alert({title:"Please fill in all fields."})}else{$scope.newParty.dateCreated=new Date;console.log($scope.newParty);optvModel.model.parties.push($scope.newParty);optvModel.save();console.log(optvModel.model.parties)}return}}]})};initialize()}]);